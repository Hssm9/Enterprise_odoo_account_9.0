<openerp>
  <data>
      <!--产品视图-->
      <record id="view_res_product_template_form_inherit" model="ir.ui.view">
          <field name="name">view.res.product.template.form.inherit</field>
          <field name="model">product.template</field>
          <field name="inherit_id" ref="product.product_template_form_view" />
          <field name="arch" type="xml">
              <field name="list_price" position="attributes">
                  <attribute name="invisible">1</attribute>
              </field>
              <field name="name" position="attributes">
                  <attribute name="string">产品型号</attribute>
              </field>
              <field name="type" position="before">
                  <field name="bom" />
                  <field name="pro_version" />
                  <field name="pro_status" string="状态"/>
              </field>
              <field name="uom_po_id" position="after">
                  <field name="pro_description" />
              </field>
              <field name="list_price" position="before">
                  <field name="pro_type" />
              </field>
              <field name="invoice_policy" position="after">
                  <field name="remark" />
              </field>
              <xpath expr="//page[@name='sales']" position="after">
                  <page name="discount" string="折扣">
                      <group>
                          <group>
                              <field name="list_price" />
                              <field name="office_manager_discount" />
                              <field name="market_president_discount" />
                          </group>
                          <group>
                              <field name="ref_discount" />
                              <field name="system_department_discount" />
                              <field name="company_president_discount" />
                          </group>
                      </group>
                  </page>
              </xpath>
          </field>
      </record>

      <record id="view_res_product_template_tree_view" model="ir.ui.view">
          <field name="name">view.res.product.template.tree</field>
          <field name="model">product.template</field>
          <field name="priority">13</field>
          <field name="arch" type="xml">
              <tree string="Product">
                  <field name="categ_id"/>
                  <field name="pro_type"/>
                  <field name="bom"/>
                  <field name="name" string="产品名称"/>
                  <field name="uom_id"/>
                  <field name="pro_description"/>
                  <field name="seller_ids"/>
                  <field name="pro_status" string="状态"/>
                  <field name="pro_version"/>
                  <field name="write_date"/>
              </tree>
          </field>
      </record>
      <!--重写项目立项tree视图-->
      <record id="view_res_product_leads_tree_view" model="ir.ui.view">
            <field name="name">view.res.product.leads.tree</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_tree_view_leads"/>
            <field name="arch" type="xml">
                <field name="name" position="before">
                    <field name="project_number"/>
                </field>
                <field name="name" position="after">
                    <field name="project_leave" string="项目级别"/>
                    <field name="office"/>
                    <field name="industry"/>
                    <field name="bidding_time"/>
                    <field name="supply_time"/>
                    <field name="user_id" string="销售员"/>
                </field>
                <field name="create_date" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="contact_name" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="country_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="email_from" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="phone" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="stage_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="team_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
            </field>
        </record>

      <!--项目管理字段添加-->
      <record id="view_res_product_oppr_form" model="ir.ui.view">
            <field name="name">view.res.product.oppr</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <field name="partner_id" position="before">
                    <field name="project_number"/>
                    <field name="project_leave" string="项目级别"/>
                    <field name="office"/>
                    <field name="industry"/>
                </field>
                <field name="date_deadline" position="before">
                    <field name="bidding_time"/>
                    <field name="supply_time"/>
                    <field name="project_detail"/>
                </field>
            </field>
      </record>

      <!--重写项目管理tree视图-->
      <record id="view_res_product_oppr_tree" model="ir.ui.view">
            <field name="name">view.res.product.oppr.tree</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
            <field name="arch" type="xml">
                <field name="name" position="before">
                    <field name="project_number"/>
                </field>
                <field name="name" position="after">
                    <field name="project_leave" string="项目级别"/>
                    <field name="office"/>
                    <field name="industry"/>
                    <field name="bidding_time"/>
                    <field name="supply_time"/>
                </field>
                <field name="create_date" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="partner_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="country_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="date_action" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="title_action" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="stage_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="planned_revenue" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="probability" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="team_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
            </field>
        </record>

      <!--产品类别-->
      <record id="product_pro_type_form_view" model="ir.ui.view">
          <field name="name">product.pro.type.form</field>
          <field name="model">product.pro.type</field>
          <field name="arch" type="xml">
              <form string="产品类别">
                  <sheet>
                      <group>
                          <field name="name"/>
                      </group>
                      <group>

                      </group>
                  </sheet>
              </form>
          </field>
      </record>

      <!--定义产品类别action-->
      <record id="product_pro_type_form_action" model="ir.actions.act_window">
          <field name="name">产品类别</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">product.pro.type</field>
          <field name="view_type">form</field>
          <field name="view_mode">tree,form</field>
      </record>

      <!-- 定义项目立项 -->
      <record model="ir.ui.view" id="dtdream_sale.crm_lead_form">
          <field name="name">项目立项</field>
          <field name="model">crm.lead</field>
          <field name="inherit_id" ref="crm.crm_case_form_view_leads"/>
          <field name="arch" type="xml">
              <field name="partner_id" position="before">
                  <field name="project_number"/>
                  <field name="project_leave" string="项目级别"/>
                  <field name="office"/>
                  <field name="industry"/>
              </field>
              <field name="mobile" position="after">
                  <field name="bidding_time"/>
                  <field name="supply_time"/>
                  <!-- <field name="project_stage" string="项目阶段"/> -->
                  <field name="project_detail"/>
              </field>
              <field name="fax" position="attributes">
                  <attribute name="invisible">1</attribute>
              </field>
          </field>
      </record>

      <!--产品搜索界面增加产品分类分组-->
      <record id="product_search_form_inherit_view" model="ir.ui.view">
          <field name="name">product.template.search.inherit</field>
          <field name="model">product.template</field>
          <field name="inherit_id" ref="product.product_template_search_view"/>
          <field name="arch" type="xml">
               <field name="pricelist_id" position="after">
                  <filter string="产品分类" name="categ_id" context="{'group_by':'categ_id'}"/>
               </field>
          </field>
      </record>

      <!--新增产品类别菜单-->
      <menuitem name="产品类别" action="product_pro_type_form_action" id="menu_product_pro_type_form_action" parent="product.prod_config_main" sequence="8" />

  </data>
</openerp>