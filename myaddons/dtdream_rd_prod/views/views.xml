<openerp>
  <data>
<!--会计项目-->
    <record id="act_dtdream_rd_prod" model="ir.actions.act_window">
        <field name="name">会计项目</field>
        <field name="res_model">dtdream_rd_prod.dtdream_rd_prod</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="view_dtdream_rd_prod_tree" model="ir.ui.view">
        <field name="name">view.dtdream.rd.prod.tree</field>
        <field name="model">dtdream_rd_prod.dtdream_rd_prod</field>
        <field name="arch" type="xml">
            <tree>
                <field name="code"/>
                <field name="name"/>
            </tree>
        </field>
    </record>

    <record id="view_dtdream_rd_prod_form" model="ir.ui.view">
        <field name="name">view.dtdream.rd.prod.form</field>
        <field name="model">dtdream_rd_prod.dtdream_rd_prod</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="name" />
                            <!--<field name="department" domain="[('parent_id.parent_id','=',False),('child_ids','!=',False)]"/>-->
                        </group>
                        <group>
                            <field name="code" />
                            <!--<field name="department_2" domain="[('parent_id.parent_id.parent_id','=',False)]"/>-->
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


<!--研发产品-->
      <record id="act_dtdream_prod_appr" model="ir.actions.act_window">
            <field name="name">研发产品</field>
            <field name="res_model">dtdream_rd_prod.dtdream_prod_appr</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
      </record>




      <record id="view_dtdream_prod_appr_tree" model="ir.ui.view">
        <field name="name">view.dtdream.prod.appr.tree</field>
        <field name="model">dtdream_rd_prod.dtdream_prod_appr</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="state" />
                <field name="department"/>
            </tree>
        </field>
    </record>

      <record id="view_dtdream_prod_appr_form" model="ir.ui.view">
          <field name="name">view.dtdream.prod.appr.form</field>
            <field name="model">dtdream_rd_prod.dtdream_prod_appr</field>
            <field name="arch" type="xml">
                <form>
                    <!--<header>
                         <button name="btn_submit" string="提交" type="workflow" states="state_01"/>
                         <field name="state" widget="statusbar" statusbar_visible="state_01,state_02,state_03" clickable="True"/>
                    </header>-->
                    <sheet>
                        <group>
                            <field name="name" />
                        </group>
                        <notebook>
                            <page name="public" string="基本信息">
                                <group>
                                    <group>
                                        <field name="department" domain="[('parent_id.parent_id','=',False),('child_ids','!=',False)]"/>
                                         <field name="state" />
                                    </group>
                                    <group>
                                        <field name="department_2" domain="[('parent_id.parent_id.parent_id','=',False)]"/>
                                    </group>
                                </group>
                            </page>
                            <page name="detail" string="详细信息">
                                <field name="role_ids" string="角色"/>
                            </page>
                            <page name="version" string="进度与计划">
                                <group>
                                    <field name="pro_time"/>
                                    <field name="overall_plan_time"/>
                                    <field name="overall_actual_time"/>
                                </group>
                                 <field name="version_ids"  context="{'default_proName':id}">
                                <tree>
                                    <field name="proName"/>
                                    <field name="version_numb"/>
                                    <field name="pro_flag"/>
                                    <field name="version_state"/>
                                    <field name="plan_dev_time"/>
                                    <field name="plan_pub_time"/>
                                    <field name="actual_dev_time"/>
                                    <field name="actual_check_pub_time"/>
                                </tree>
                            </field>
                            </page>
                        </notebook>

                    </sheet>
                </form>
          </field>
    </record>




<!--版本-->
      <record id="act_dtdream_rd_version" model="ir.actions.act_window">
          <field name="name">版本</field>
          <field name="res_model">dtdream_rd_prod.dtdream_rd_version</field>
          <field name="type">ir.actions.act_window</field>
          <field name="view_type">form</field>
          <field name="view_mode">tree,form</field>
      </record>

      <record id="view_dtdream_rd_version_tree" model="ir.ui.view">
            <field name="name">view.dtdream.rd.version.tree</field>
            <field name="model">dtdream_rd_prod.dtdream_rd_version</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="proName"/>
                    <field name="pro_flag" />
                    <field name="version_numb"/>
                    <field name="version_state" />
                </tree>
            </field>
      </record>

      <record id="view_dtdream_rd_version_form" model="ir.ui.view">
        <field name="name">view.dtdream.rd.version.form</field>
        <field name="model">dtdream_rd_prod.dtdream_rd_version</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="name" invisible="1"/>
                            <field name="proName" />
                            <field name="pro_flag" />
                        </group>
                        <group>
                            <field name="version_numb" />
                             <field name="version_state" />
                        </group>
                    </group>
                    <notebook>
                        <page  string="版本计划">
                            <group>
                                <field name="plan_dev_time" />
                                <field name="plan_check_pub_time" />
                                <field name="plan_pub_time" />
                                <field name="plan_mater" />
                            </group>
                        </page>
                        <page string="版本开发">
                            <group>
                                <field name="actual_dev_time" />
                                <field name="dev_mater" />
                            </group>
                        </page>
                        <page string="版本发布">
                            <group>
                                <field name="actual_check_pub_time" />
                                <field name="place" />
                                <field name="Material" />
                            </group>
                        </page>
                     </notebook>
                </sheet>
            </form>
        </field>
    </record>
<!--角色配置-->
      <record id="act_dtdream_rd_Rconfig" model="ir.actions.act_window">
          <field name="name">角色配置</field>
          <field name="res_model">dtdream_rd_prod.dtdream_rd_config</field>
          <field name="type">ir.actions.act_window</field>
          <field name="view_type">form</field>
          <field name="view_mode">tree</field>
      </record>

      <record id="view_dtdream_rd_config_from" model="ir.ui.view">
            <field name="name">view.dtdream.rd.config.from</field>
            <field name="model">dtdream_rd_prod.dtdream_rd_config</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                            <group>
                                <field name="person" />
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
      </record>

      <record id="view_dtdream_rd_config_tree" model="ir.ui.view">
            <field name="name">view.dtdream.rd.config.tree</field>
            <field name="model">dtdream_rd_prod.dtdream_rd_config</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name='name'/>
                    <field name="person"/>
                </tree>
            </field>
      </record>

<!--菜单-->
    <menuitem id="menu_finance_rd" name="研发" groups ="group_dtdream_rd_user"/>
    <menuitem id="menu_finance_rd_prod" name="会计项目" parent="hr_expense.menu_hr_expense_root" sequence="500"  action="act_dtdream_rd_prod" groups="group_dtdream_rd_user"/>
    <menuitem id="menu_finance_prod_appr" name="研发产品" parent="menu_finance_rd" sequence="100"  action="act_dtdream_prod_appr"/>
    <menuitem id="menu_finance_rd_version" name="版本" parent="menu_finance_rd" sequence="200" action="act_dtdream_rd_version"/>
    <menuitem id="menu_finance_rd_config" name="配置" parent="menu_finance_rd" sequence="300"/>
    <menuitem id="menu_finance_rd_Rconfig" name="角色配置" parent="menu_finance_rd_config" sequence="500"  action="act_dtdream_rd_Rconfig"/>
  </data>
</openerp>