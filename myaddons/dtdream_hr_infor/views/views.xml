<openerp>
  <data>
    <record id="view_employee_form_infor_inherit" model="ir.ui.view">
        <field name="name">hr.employee.infor.form.inherit</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="dtdream_hr.dtdream_view_employee_form"/>
        <field name="arch" type="xml">
            <field name="mobile_phone" position="replace">
              <field name="mobile_phone" string="手机号" invisible="True"/>
            </field>
            <xpath expr="//notebook/page[2]" position="replace">
              <page string="基础信息">
                <group>
                    <group>
                      <field name="account"/>
                      <field name="gender" required="True"/>
                      <field name="duties" required="True"/>
                      <field name="post" required="True"/>
                      <field name="Inaugural_state" required="True"/>
                      <field name="entry_day" required="True"/>
                  </group>
                  <group>
                      <field name="education" required="True"/>
                      <field name="recruit"/>
                      <field name="recruit_place"/>
                      <field name="work_place"/>
                      <field name="expatriate"/>
                  </group>
                  <div>
                    <p>*<b>填写说明</b>：以上信息由人力资源部录入。如需修改，请与人力资源部联系</p>
                  </div>
                </group>
              </page>
            </xpath>

            <xpath expr="//notebook/page[2]" position="after">
              <page string="自助信息">
                <group string="个人信息" name="personal">
                    <group>
                      <field name="byname"/>
                      <field name="Birthplace"/>
                      <field name="birthday"/>
                      <field name="mobile_phone" string="手机号" required="True"/>
                      <field name="icard"/>
                      <field name="postcode"/>
                    </group>
                    <group>
                      <field name="nation"/>
                      <field name="political"/>
                      <field name="marry"/>
                      <field name="child"/>
                      <field name="home_address" required="True"/>
                      <field name="graduate"/>
                    </group>
                </group>

                <group string="家庭成员">
                  <notebook>
                      <page>
                        <field name="family">
                           <tree editable="bottom">
                              <field name="relation" required="True"/>
                              <field name="name" required="True"/>
                              <field name="company" required="True"/>
                              <field name="address" required="True"/>
                              <field name="postcode" required="True"/>
                              <field name="mail" required="True"/>
                              <field name="tel" required="True"/>
                              <field name="emergency"/>
                           </tree>
                        </field>
                      </page>
                    </notebook>
                </group>

                <group string="社保公积金">
                    <group>
                        <field name="province_hukou"/>
                        <field name="state_hukou"/>
                        <field name="shebao_prov"/>
                        <field name="gongjijin_state"/>
                        <field name="ahead_prov"/>
                        <field name="ahead_state"/>
                    </group>
                    <group>
                        <field name="now_prov"/>
                        <field name="now_state"/>
                        <field name="nature_hukou"/>
                        <field name="endtime_gongjijin"/>
                        <field name="endtime_shebao"/>
                    </group>
                </group>

                <group string="其它信息">
                    <group>
                       <field name="oil_card"/>
                    </group>
                    <group>
                       <field name="has_oil"/>
                    </group>
                </group>

                <p>*<b>填写说明</b>：以上信息修改即生效，无需HR审核。该处信息将被报销系统、社保金积金系统、微信、钉钉、油卡充值系统等多个系统引用。请谨慎填写，保证相关业务的准确性</p>
              </page>
            </xpath>
        </field>
    </record>

    <record id="view_dtdream_hr_provinve_tree" model="ir.ui.view">
        <field name="name">view.dtdream.hr.province.tree</field>
        <field name="model">dtdream.hr.province</field>
        <field name="arch" type="xml">
            <tree>
              <field name="name"/>
              <field name="code"/>
            </tree>
        </field>
    </record>

    <record id="view_dtdream_hr_provinve_form" model="ir.ui.view">
        <field name="name">view.dtdream.hr.province.form</field>
        <field name="model">dtdream.hr.province</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="abbre" placeholder="例如,浙江省的缩写:ZJ"/>
                        </group>
                        <group>
                            <field name="code"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_dtdream_hr_state_tree" model="ir.ui.view">
        <field name="name">view.dtdream.hr.state.tree</field>
        <field name="model">dtdream.hr.state</field>
        <field name="arch" type="xml">
            <tree>
              <field name="name"/>
              <field name="pro_name"/>
            </tree>
        </field>
    </record>

    <record id="view_dtdream_hr_state_form" model="ir.ui.view">
        <field name="name">view.dtdream.hr.state.form</field>
        <field name="model">dtdream.hr.state</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="province" required="True"/>
                            <field name="abbre" placeholder="例如,杭州市的缩写:HZ"/>
                        </group>
                        <group>
                            <field name="name"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_dtdream_hr_contract_tree" model="ir.ui.view">
        <field name="name">view.dtdream.hr.contract.tree</field>
        <field name="model">dtdream.hr.contract</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="num"/>
                <field name="department"/>
                <field name="date_start"/>
                <field name="date_stop"/>
            </tree>
        </field>
    </record>

    <record id="view_dtdream_hr_contract_form" model="ir.ui.view">
        <field name="name">view.dtdream.hr.contract.form</field>
        <field name="model">dtdream.hr.contract</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="num"/>
                            <field name="date_stop"/>
                        </group>
                        <group>
                            <field name="department"/>
                            <field name="date_start"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="act_dtdream_hr_contract" model="ir.actions.act_window">
        <field name="name">合同</field>
        <field name="res_model">dtdream.hr.contract</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('name.id','=',active_id)]</field>
    </record>

    <record id="view_employee_form_contract_inherit" model="ir.ui.view">
        <field name="name">hr.employee.contract.form.inherit</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="dtdream_hr.dtdream_view_employee_form"/>
        <field name="arch" type="xml">
            <button name="toggle_active" position="before">
               <button class="oe_stat_button" type="action" name="%(act_dtdream_hr_contract)d"
                icon="fa-strikethrough" string="合同">
               </button>
            </button>
        </field>
    </record>

  </data>
</openerp>